{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
<div class="card">
    <div class="card-header bg-info text-white">
        <h3>Step 3: Table Name</h3>
    </div>
    <div class="card-body">
        <form method="post">
        <input type="hidden" name="table_id" value="{{ tableId }}">
        <input type="hidden" name="quotation_id" value="{{ quotationId }}">
            {% csrf_token %}
            {{ forms|crispy }}
            <button type="submit" class="btn btn-info">Add Table</button>
        </form>
        <hr>
        <h4>Table List</h4>
        <table id="tblAboutList" class="table table-striped table-bordered width-full isoViewTbl">
            <thead>
                <tr>
                    <th class="all">Customer Name</th>
                    <th class="all">Quotation Name</th>
                    <th class="all">Table Name</th>
                    <th class="all text-center statusTd">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for tableData in tableNameData %}
                    <tr class="odd" id='{{ tableData.id}}'>
                        <td class=""> {{ tableData.quotation.customer.customer_name}}</td>
                        <td class=""> {{ tableData.quotation.quotation_name}}</td>
                        <td class=""> {{ tableData.table_name}}</td>
                        <td class="text-nowrap text-center">                      
                            <span>
                                <a href="{% url 'add_table' %}?customer_id={{ tableData.quotation.customer.id }}&quotation_id={{tableData.quotation.id}}&table_id={{tableData.id}}" title="Edit">
                                    <span><i class="fa fa-edit text-blue fa-lg"></i></span>
                                </a>
                            </span>
                            <span class="ms-2">
                                <a href="{% url 'add_table_headers' %}?customer_id={{ tableData.quotation.customer.id }}&quotation_id={{tableData.quotation.id}}&table_id={{tableData.id}}" title="Add">
                                    <span><i class="fa fa-plus text-green fa-lg"></i></span>
                                </a>
                            </span>
                        </td>
                    </tr> 
                {% empty %}
					<tr>
                        <td colspan="8" class="text-center">No record found</td>
                    </tr>
                {% endfor %}
            
            </tbody>
        </table> 
    </div>
</div>
{% endblock %}